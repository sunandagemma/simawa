<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tambah Kegiatan - Kemahasiswaan | SIMAWA</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/image/favicon.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Ionicons -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'persian-blue': {
                            '50': '#e9f4ff',
                            '100': '#d7ecff',
                            '200': '#b7d9ff',
                            '300': '#8bbfff',
                            '400': '#5e95ff',
                            '500': '#396dff',
                            '600': '#1740ff',
                            '700': '#1f42f6',
                            '800': '#0e2fc5',
                            '900': '#15309a',
                            '950': '#0d1a59',
                        },
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    
    <style>
        .form-field-item {
            cursor: grab;
            transition: all 0.2s ease;
        }
        .form-field-item:hover {
            transform: translateX(4px);
        }
        .form-field-item.dragging {
            opacity: 0.5;
            cursor: grabbing;
        }
        .form-preview-field {
            animation: fadeIn 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-50 font-inter">
    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <aside class="sidebar w-64 bg-gradient-to-b from-persian-blue-600 to-persian-blue-800 text-white fixed h-full z-40">
            <!-- Logo -->
            <div class="p-6 border-b border-white/10">
                <div class="flex items-center gap-3">
                    <img src="/image/logo.png" alt="Logo" class="h-10 object-contain bg-white rounded-lg p-1">
                    <div>
                        <h1 class="font-bold text-lg leading-tight">SIMAWA</h1>
                        <p class="text-xs text-white/70">Kemahasiswaan</p>
                    </div>
                </div>
            </div>
            
            <!-- Menu -->
            <nav class="p-4">
                <p class="text-xs text-white/50 uppercase tracking-wider mb-3 px-3">Menu Utama</p>
                <ul class="space-y-1">
                    <li>
                        <a href="/kemahasiswaan/dashboard/" class="sidebar-menu-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm">
                            <ion-icon name="grid" class="text-xl"></ion-icon>
                            Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="/kemahasiswaan/kegiatan/" class="sidebar-menu-item active flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm">
                            <ion-icon name="calendar" class="text-xl"></ion-icon>
                            Kelola Kegiatan
                        </a>
                    </li>
                    <li>
                        <a href="/kemahasiswaan/prestasi/" class="sidebar-menu-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm">
                            <ion-icon name="trophy" class="text-xl"></ion-icon>
                            Data Prestasi
                        </a>
                    </li>
                    <li>
                        <a href="/kemahasiswaan/verifikasi/" class="sidebar-menu-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm">
                            <ion-icon name="checkmark-circle" class="text-xl"></ion-icon>
                            Verifikasi
                            <span class="ml-auto bg-red-500 text-white text-xs px-2 py-0.5 rounded-full">5</span>
                        </a>
                    </li>
                </ul>
                
                <p class="text-xs text-white/50 uppercase tracking-wider mb-3 px-3 mt-6">Laporan</p>
                <ul class="space-y-1">
                    <li>
                        <a href="/kemahasiswaan/laporan/" class="sidebar-menu-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm">
                            <ion-icon name="bar-chart" class="text-xl"></ion-icon>
                            Statistik
                        </a>
                    </li>
                    <li>
                        <a href="/kemahasiswaan/export/" class="sidebar-menu-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm">
                            <ion-icon name="download" class="text-xl"></ion-icon>
                            Export Data
                        </a>
                    </li>
                </ul>
            </nav>
            
            <!-- Bottom -->
            <div class="absolute bottom-0 left-0 right-0 p-4 border-t border-white/10">
                <a href="/" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm hover:bg-white/10 transition-colors">
                    <ion-icon name="log-out" class="text-xl"></ion-icon>
                    Keluar
                </a>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="flex-1 ml-64">
            <!-- Header -->
            <header class="bg-white border-b border-gray-200 sticky top-0 z-30">
                <div class="flex items-center justify-between px-6 py-4">
                    <div class="flex items-center gap-4">
                        <a href="/kemahasiswaan/kegiatan/" class="p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors">
                            <ion-icon name="arrow-back" class="text-xl"></ion-icon>
                        </a>
                        <div>
                            <h2 class="text-xl font-bold text-gray-800">Tambah Kegiatan Baru</h2>
                            <p class="text-sm text-gray-500">Buat kegiatan dengan form pendaftaran dinamis</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <button class="btn btn-outline">
                            <ion-icon name="eye-outline"></ion-icon>
                            Preview
                        </button>
                        <button class="btn btn-primary" onclick="alert('Kegiatan berhasil disimpan!')">
                            <ion-icon name="save"></ion-icon>
                            Simpan Kegiatan
                        </button>
                    </div>
                </div>
            </header>
            
            <!-- Page Content -->
            <div class="p-6">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Left: Form Details -->
                    <div class="lg:col-span-2 space-y-6">
                        <!-- Basic Info -->
                        <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                            <h3 class="font-semibold text-gray-800 mb-4 flex items-center gap-2">
                                <ion-icon name="information-circle" class="text-persian-blue-500"></ion-icon>
                                Informasi Kegiatan
                            </h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="md:col-span-2 form-group">
                                    <label class="form-label">Nama Kegiatan <span class="text-red-500">*</span></label>
                                    <input type="text" class="form-input" placeholder="Contoh: Lomba Karya Tulis Ilmiah Nasional">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Kategori <span class="text-red-500">*</span></label>
                                    <select class="form-select">
                                        <option value="">Pilih Kategori</option>
                                        <option value="akademik">Akademik</option>
                                        <option value="olahraga">Olahraga</option>
                                        <option value="seni">Seni & Budaya</option>
                                        <option value="sosial">Sosial</option>
                                        <option value="lainnya">Lainnya</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Tingkat <span class="text-red-500">*</span></label>
                                    <select class="form-select">
                                        <option value="">Pilih Tingkat</option>
                                        <option value="universitas">Universitas</option>
                                        <option value="regional">Regional</option>
                                        <option value="nasional">Nasional</option>
                                        <option value="internasional">Internasional</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Tanggal Mulai <span class="text-red-500">*</span></label>
                                    <input type="date" class="form-input">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Tanggal Selesai <span class="text-red-500">*</span></label>
                                    <input type="date" class="form-input">
                                </div>
                                <div class="md:col-span-2 form-group">
                                    <label class="form-label">Deskripsi Kegiatan</label>
                                    <textarea class="form-input" rows="4" placeholder="Jelaskan tentang kegiatan ini..."></textarea>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Batas Pendaftar</label>
                                    <input type="number" class="form-input" placeholder="Contoh: 100">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Poster Kegiatan</label>
                                    <div class="file-upload-area">
                                        <ion-icon name="cloud-upload-outline" class="text-4xl text-gray-400 mb-2"></ion-icon>
                                        <p class="text-sm text-gray-500">Klik atau drag file ke sini</p>
                                        <p class="text-xs text-gray-400 mt-1">PNG, JPG max 2MB</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Dynamic Form Builder -->
                        <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                            <h3 class="font-semibold text-gray-800 mb-4 flex items-center gap-2">
                                <ion-icon name="construct" class="text-persian-blue-500"></ion-icon>
                                Form Builder - Form Pendaftaran
                            </h3>
                            <p class="text-sm text-gray-500 mb-4">Drag & drop field dari panel kanan untuk membuat form pendaftaran.</p>
                            
                            <!-- Form Preview Area -->
                            <div id="formPreview" class="min-h-[300px] border-2 border-dashed border-gray-200 rounded-xl p-4 bg-gray-50">
                                <!-- Default Fields -->
                                <div class="form-preview-field mb-4 bg-white p-4 rounded-lg border border-gray-200 shadow-sm">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xs font-medium text-persian-blue-600 bg-persian-blue-50 px-2 py-1 rounded">TEXT</span>
                                        <div class="flex items-center gap-1">
                                            <button class="p-1 text-gray-400 hover:text-gray-600"><ion-icon name="create-outline"></ion-icon></button>
                                            <button class="p-1 text-gray-400 hover:text-red-500"><ion-icon name="trash-outline"></ion-icon></button>
                                        </div>
                                    </div>
                                    <label class="form-label">Nama Lengkap <span class="text-red-500">*</span></label>
                                    <input type="text" class="form-input" placeholder="Masukkan nama lengkap" disabled>
                                </div>
                                
                                <div class="form-preview-field mb-4 bg-white p-4 rounded-lg border border-gray-200 shadow-sm">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xs font-medium text-persian-blue-600 bg-persian-blue-50 px-2 py-1 rounded">TEXT</span>
                                        <div class="flex items-center gap-1">
                                            <button class="p-1 text-gray-400 hover:text-gray-600"><ion-icon name="create-outline"></ion-icon></button>
                                            <button class="p-1 text-gray-400 hover:text-red-500"><ion-icon name="trash-outline"></ion-icon></button>
                                        </div>
                                    </div>
                                    <label class="form-label">NIM <span class="text-red-500">*</span></label>
                                    <input type="text" class="form-input" placeholder="Masukkan NIM" disabled>
                                </div>
                                
                                <div class="form-preview-field mb-4 bg-white p-4 rounded-lg border border-gray-200 shadow-sm">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-1 rounded">DROPDOWN</span>
                                        <div class="flex items-center gap-1">
                                            <button class="p-1 text-gray-400 hover:text-gray-600"><ion-icon name="create-outline"></ion-icon></button>
                                            <button class="p-1 text-gray-400 hover:text-red-500"><ion-icon name="trash-outline"></ion-icon></button>
                                        </div>
                                    </div>
                                    <label class="form-label">Program Studi <span class="text-red-500">*</span></label>
                                    <select class="form-select" disabled>
                                        <option>Pilih Program Studi</option>
                                    </select>
                                </div>
                                
                                <div class="form-preview-field mb-4 bg-white p-4 rounded-lg border border-gray-200 shadow-sm">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xs font-medium text-amber-600 bg-amber-50 px-2 py-1 rounded">FILE</span>
                                        <div class="flex items-center gap-1">
                                            <button class="p-1 text-gray-400 hover:text-gray-600"><ion-icon name="create-outline"></ion-icon></button>
                                            <button class="p-1 text-gray-400 hover:text-red-500"><ion-icon name="trash-outline"></ion-icon></button>
                                        </div>
                                    </div>
                                    <label class="form-label">Upload CV</label>
                                    <div class="file-upload-area py-4">
                                        <ion-icon name="document-outline" class="text-2xl text-gray-400"></ion-icon>
                                        <p class="text-xs text-gray-500 mt-1">PDF, DOC max 5MB</p>
                                    </div>
                                </div>
                                
                                <!-- Drop Zone -->
                                <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center text-gray-400 hover:border-persian-blue-400 hover:bg-persian-blue-50 transition-colors">
                                    <ion-icon name="add-circle-outline" class="text-3xl mb-2"></ion-icon>
                                    <p class="text-sm">Drop field di sini</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right: Field Types -->
                    <div class="space-y-6">
                        <!-- Field Types Panel -->
                        <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100 sticky top-24">
                            <h3 class="font-semibold text-gray-800 mb-4 flex items-center gap-2">
                                <ion-icon name="layers" class="text-persian-blue-500"></ion-icon>
                                Tipe Field
                            </h3>
                            <p class="text-xs text-gray-500 mb-4">Klik untuk menambahkan ke form</p>
                            
                            <div class="space-y-2">
                                <button onclick="addField('text')" class="form-field-item w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:border-persian-blue-300 hover:bg-persian-blue-50 text-left transition-colors">
                                    <div class="w-10 h-10 rounded-lg bg-persian-blue-100 flex items-center justify-center">
                                        <ion-icon name="text" class="text-xl text-persian-blue-600"></ion-icon>
                                    </div>
                                    <div>
                                        <p class="font-medium text-gray-800 text-sm">Text Input</p>
                                        <p class="text-xs text-gray-500">Input teks satu baris</p>
                                    </div>
                                </button>
                                
                                <button onclick="addField('textarea')" class="form-field-item w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:border-persian-blue-300 hover:bg-persian-blue-50 text-left transition-colors">
                                    <div class="w-10 h-10 rounded-lg bg-violet-100 flex items-center justify-center">
                                        <ion-icon name="document-text" class="text-xl text-violet-600"></ion-icon>
                                    </div>
                                    <div>
                                        <p class="font-medium text-gray-800 text-sm">Text Area</p>
                                        <p class="text-xs text-gray-500">Input teks multi baris</p>
                                    </div>
                                </button>
                                
                                <button onclick="addField('dropdown')" class="form-field-item w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:border-emerald-300 hover:bg-emerald-50 text-left transition-colors">
                                    <div class="w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center">
                                        <ion-icon name="chevron-down-circle" class="text-xl text-emerald-600"></ion-icon>
                                    </div>
                                    <div>
                                        <p class="font-medium text-gray-800 text-sm">Dropdown</p>
                                        <p class="text-xs text-gray-500">Pilihan dari daftar</p>
                                    </div>
                                </button>
                                
                                <button onclick="addField('file')" class="form-field-item w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:border-amber-300 hover:bg-amber-50 text-left transition-colors">
                                    <div class="w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center">
                                        <ion-icon name="cloud-upload" class="text-xl text-amber-600"></ion-icon>
                                    </div>
                                    <div>
                                        <p class="font-medium text-gray-800 text-sm">File Upload</p>
                                        <p class="text-xs text-gray-500">Upload dokumen/gambar</p>
                                    </div>
                                </button>
                                
                                <button onclick="addField('date')" class="form-field-item w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:border-cyan-300 hover:bg-cyan-50 text-left transition-colors">
                                    <div class="w-10 h-10 rounded-lg bg-cyan-100 flex items-center justify-center">
                                        <ion-icon name="calendar" class="text-xl text-cyan-600"></ion-icon>
                                    </div>
                                    <div>
                                        <p class="font-medium text-gray-800 text-sm">Date Picker</p>
                                        <p class="text-xs text-gray-500">Pilih tanggal</p>
                                    </div>
                                </button>
                                
                                <button onclick="addField('checkbox')" class="form-field-item w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:border-rose-300 hover:bg-rose-50 text-left transition-colors">
                                    <div class="w-10 h-10 rounded-lg bg-rose-100 flex items-center justify-center">
                                        <ion-icon name="checkbox" class="text-xl text-rose-600"></ion-icon>
                                    </div>
                                    <div>
                                        <p class="font-medium text-gray-800 text-sm">Checkbox</p>
                                        <p class="text-xs text-gray-500">Pilihan centang</p>
                                    </div>
                                </button>
                                
                                <button onclick="addField('radio')" class="form-field-item w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:border-indigo-300 hover:bg-indigo-50 text-left transition-colors">
                                    <div class="w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center">
                                        <ion-icon name="radio-button-on" class="text-xl text-indigo-600"></ion-icon>
                                    </div>
                                    <div>
                                        <p class="font-medium text-gray-800 text-sm">Radio Button</p>
                                        <p class="text-xs text-gray-500">Pilihan tunggal</p>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <script>
        let fieldCount = 4;
        
        function addField(type) {
            fieldCount++;
            const preview = document.getElementById('formPreview');
            const dropZone = preview.querySelector('.border-dashed');
            
            const fieldTypes = {
                'text': { label: 'TEXT', color: 'persian-blue', element: '<input type="text" class="form-input" placeholder="Masukkan teks" disabled>' },
                'textarea': { label: 'TEXTAREA', color: 'violet', element: '<textarea class="form-input" rows="3" placeholder="Masukkan teks panjang" disabled></textarea>' },
                'dropdown': { label: 'DROPDOWN', color: 'emerald', element: '<select class="form-select" disabled><option>Pilih opsi</option></select>' },
                'file': { label: 'FILE', color: 'amber', element: '<div class="file-upload-area py-4"><ion-icon name="document-outline" class="text-2xl text-gray-400"></ion-icon><p class="text-xs text-gray-500 mt-1">Upload file</p></div>' },
                'date': { label: 'DATE', color: 'cyan', element: '<input type="date" class="form-input" disabled>' },
                'checkbox': { label: 'CHECKBOX', color: 'rose', element: '<div class="flex items-center gap-2"><input type="checkbox" class="w-4 h-4" disabled><span class="text-sm text-gray-600">Opsi 1</span></div>' },
                'radio': { label: 'RADIO', color: 'indigo', element: '<div class="flex items-center gap-4"><label class="flex items-center gap-2"><input type="radio" name="radio'+fieldCount+'" class="w-4 h-4" disabled><span class="text-sm text-gray-600">Opsi A</span></label><label class="flex items-center gap-2"><input type="radio" name="radio'+fieldCount+'" class="w-4 h-4" disabled><span class="text-sm text-gray-600">Opsi B</span></label></div>' }
            };
            
            const field = fieldTypes[type];
            const colorClasses = {
                'persian-blue': 'text-persian-blue-600 bg-persian-blue-50',
                'violet': 'text-violet-600 bg-violet-50',
                'emerald': 'text-emerald-600 bg-emerald-50',
                'amber': 'text-amber-600 bg-amber-50',
                'cyan': 'text-cyan-600 bg-cyan-50',
                'rose': 'text-rose-600 bg-rose-50',
                'indigo': 'text-indigo-600 bg-indigo-50'
            };
            
            const newField = document.createElement('div');
            newField.className = 'form-preview-field mb-4 bg-white p-4 rounded-lg border border-gray-200 shadow-sm';
            newField.innerHTML = `
                <div class="flex items-center justify-between mb-2">
                    <span class="text-xs font-medium ${colorClasses[field.color]} px-2 py-1 rounded">${field.label}</span>
                    <div class="flex items-center gap-1">
                        <button class="p-1 text-gray-400 hover:text-gray-600"><ion-icon name="create-outline"></ion-icon></button>
                        <button onclick="this.closest('.form-preview-field').remove()" class="p-1 text-gray-400 hover:text-red-500"><ion-icon name="trash-outline"></ion-icon></button>
                    </div>
                </div>
                <label class="form-label">Label Field Baru</label>
                ${field.element}
            `;
            
            dropZone.parentNode.insertBefore(newField, dropZone);
        }
    </script>
</body>
</html>
